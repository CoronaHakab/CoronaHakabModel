{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "http://example.com/example.json",
  "type": "object",
  "title": "CoronaHakabModel Consts JSON file schema",
  "description": "This file includes all the constants (mostly numbers) which describe how the model should function",
  "required": [
    "total_steps",
    "initial_infected_count",
    "infection_ratios",
    "r0",
    "medical_state_transition",
    "detection_test_consts",
    "policy_changes",
    "partial_opening_active"
  ],
  "properties": {
    "total_steps": {
      "$id": "#/properties/total_steps",
      "type": "integer",
      "title": "Total steps",
      "description": "The number of steps for which to execute the simulation",
      "default": 350,
      "examples": [
        300
      ]
    },
    "initial_infected_count": {
      "$id": "#/properties/initial_infected_count",
      "type": "integer",
      "title": "Initial infected count",
      "description": "The initial number of agents infected",
      "default": 20,
      "examples": [
        21
      ]
    },
    "infection_ratios": {
      "$id": "#/properties/infection_ratios",
      "type": "object",
      "title": "Infection ratios",
      "description": "List of probabilities for contagiousness for an agents with each infection state",
      "default": {
        "symptomatic": 0.75,
        "asymptomatic": 0.25,
        "silent": 0.3
      },
      "examples": [
        {
          "symptomatic": 0.7,
          "asymptomatic": 0.2,
          "silent": 0.2
        }
      ],
      "required": [
        "symptomatic",
        "asymptomatic",
        "silent"
      ],
      "properties": {
        "symptomatic": {
          "$id": "#/properties/infection_ratios/properties/symptomatic",
          "type": "number",
          "title": "Symptomatic",
          "description": "Contagiousness percentage for a given symptomatic agent",
          "default": 0.75,
          "examples": [
            0.7
          ]
        },
        "asymptomatic": {
          "$id": "#/properties/infection_ratios/properties/asymptomatic",
          "type": "number",
          "title": "Asymptomatic",
          "description": "Contagiousness percentage for a given asymptomatic agent",
          "default": 0.25,
          "examples": [
            0.2
          ]
        },
        "silent": {
          "$id": "#/properties/infection_ratios/properties/silent",
          "type": "number",
          "title": "Silent",
          "description": "Contagiousness percentage for a given silent agent",
          "default": 0.3,
          "examples": [
            0.2
          ]
        }
      }
    },
    "r0": {
      "$id": "#/properties/r0",
      "type": "number",
      "title": "R0",
      "description": "Base R0 for the virus/disease",
      "default": 2.4,
      "examples": [
        1.9
      ]
    },
    "medical_state_transition": {
      "$id": "#/properties/medical_state_transition",
      "type": "object",
      "title": "Medical state transition",
      "description": "An object that contains constants that describe agent transitions between medical states",
      "default": {
        "day_distributions": {
          "latent_to_silent": {
            "dist": [
              1,
              3
            ]
          },
          "silent_to_asymptomatic": {
            "dist": [
              0,
              3,
              10
            ]
          },
          "silent_to_symptomatic": {
            "dist": [
              0,
              3,
              10
            ]
          },
          "asymptomatic_to_recovered": {
            "dist": [
              3,
              5,
              7
            ]
          },
          "symptomatic_to_asymptomatic": {
            "dist": [
              7,
              10,
              14
            ]
          },
          "symptomatic_to_hospitalized": {
            "dist": [
              0,
              1.5,
              10
            ]
          },
          "hospitalized_to_asymptomatic": {
            "dist": [
              18
            ]
          },
          "hospitalized_to_icu": {
            "dist": [
              5
            ]
          },
          "icu_to_deceased": {
            "dist": [
              7
            ]
          },
          "icu_to_hospitalized": {
            "dist": [
              7
            ]
          }
        },
        "transition_probabilities": {
          "silent_to_asymptomatic": 0.2,
          "symptomatic_to_asymptomatic": 0.85,
          "hospitalized_to_asymptomatic": 0.8,
          "icu_to_hospitalized": 0.65
        }
      },
      "definitions": {
        "dist": {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 1,
          "maxItems": 3
        }
      },
      "required": [
        "day_distributions",
        "transition_probabilities"
      ],
      "properties": {
        "day_distributions": {
          "$id": "#/properties/medical_state_transition/properties/day_distributions",
          "type": "object",
          "title": "Day distributions",
          "description": "Probabilistic distributions which describe the number of days for each transition",
          "required": [
            "latent_to_silent",
            "silent_to_asymptomatic",
            "silent_to_symptomatic",
            "asymptomatic_to_recovered",
            "symptomatic_to_asymptomatic",
            "symptomatic_to_hospitalized",
            "hospitalized_to_asymptomatic",
            "hospitalized_to_icu",
            "icu_to_deceased",
            "icu_to_hospitalized"
          ],
          "properties": {
            "latent_to_silent": {
              "$id": "#/properties/medical_state_transition/properties/day_distributions/properties/latent_to_silent",
              "type": "object",
              "title": "Latent to silent",
              "description": "Distribution of days taken to transition from latent to silent",
              "default": {
                "dist": [
                  1.0,
                  3.0
                ]
              },
              "properties": {
                "dist": {
                  "$ref": "#/properties/medical_state_transition/definitions/dist"
                }
              },
              "required": [
                "dist"
              ]
            },
            "silent_to_asymptomatic": {
              "$id": "#/properties/medical_state_transition/properties/day_distributions/properties/silent_to_asymptomatic",
              "type": "object",
              "title": "Silent to asymptomatic",
              "description": "Distribution of days taken to transition from silent to asymptomatic",
              "default": {
                "dist": [
                  0.0,
                  3.0,
                  10.0
                ]
              },
              "properties": {
                "dist": {
                  "$ref": "#/properties/medical_state_transition/definitions/dist"
                }
              },
              "required": [
                "dist"
              ]
            },
            "silent_to_symptomatic": {
              "$id": "#/properties/medical_state_transition/properties/day_distributions/properties/silent_to_symptomatic",
              "type": "object",
              "title": "Silent to symptomatic",
              "description": "Distribution of days taken to transition from silent to symptomatic",
              "default": {
                "dist": [
                  0.0,
                  3.0,
                  10.0
                ]
              },
              "properties": {
                "dist": {
                  "$ref": "#/properties/medical_state_transition/definitions/dist"
                }
              },
              "required": [
                "dist"
              ]
            },
            "asymptomatic_to_recovered": {
              "$id": "#/properties/medical_state_transition/properties/day_distributions/properties/asymptomatic_to_recovered",
              "type": "object",
              "title": "Asymptomatic to recovered",
              "description": "Distribution of days taken to transition from asymptomatic to recovered",
              "default": {
                "dist": [
                  3.0,
                  5.0,
                  7.0
                ]
              },
              "required": [
                "dist"
              ]
            },
            "symptomatic_to_asymptomatic": {
              "$id": "#/properties/medical_state_transition/properties/day_distributions/properties/symptomatic_to_asymptomatic",
              "type": "object",
              "title": "Symptomatic to asymptomatic",
              "description": "Distribution of days taken to transition from symptomatic to asymptomatic",
              "default": {
                "dist": [
                  7.0,
                  10.0,
                  14.0
                ]
              },
              "properties": {
                "dist": {
                  "$ref": "#/properties/medical_state_transition/definitions/dist"
                }
              },
              "required": [
                "dist"
              ]
            },
            "symptomatic_to_hospitalized": {
              "$id": "#/properties/medical_state_transition/properties/day_distributions/properties/symptomatic_to_hospitalized",
              "type": "object",
              "title": "Symptomatic to hospitalized",
              "description": "Distribution of days taken to transition from symptomatic to hospitalized",
              "default": {
                "dist": [
                  0.0,
                  1.5,
                  10.0
                ]
              },
              "properties": {
                "dist": {
                  "$ref": "#/properties/medical_state_transition/definitions/dist"
                }
              },
              "required": [
                "dist"
              ]
            },
            "hospitalized_to_asymptomatic": {
              "$id": "#/properties/medical_state_transition/properties/day_distributions/properties/hospitalized_to_asymptomatic",
              "type": "object",
              "title": "Hospitalized to asymptomatic",
              "description": "Distribution of days taken to transition from hospitalized to asymptomatic",
              "default": {
                "dist": [
                  18.0
                ]
              },
              "properties": {
                "dist": {
                  "$ref": "#/properties/medical_state_transition/definitions/dist"
                }
              },
              "required": [
                "dist"
              ]
            },
            "hospitalized_to_icu": {
              "$id": "#/properties/medical_state_transition/properties/day_distributions/properties/hospitalized_to_icu",
              "type": "object",
              "title": "Hospitalized to ICU",
              "description": "Distribution of days taken to transition from hospitalized to ICU",
              "default": {
                "dist": [
                  5.0
                ]
              },
              "properties": {
                "dist": {
                  "$ref": "#/properties/medical_state_transition/definitions/dist"
                }
              },
              "required": [
                "dist"
              ]
            },
            "icu_to_deceased": {
              "$id": "#/properties/medical_state_transition/properties/day_distributions/properties/icu_to_deceased",
              "type": "object",
              "title": "ICU to deceased",
              "description": "Distribution of days taken to transition from ICU to deceased",
              "default": {
                "dist": [
                  7.0
                ]
              },
              "properties": {
                "dist": {
                  "$ref": "#/properties/medical_state_transition/definitions/dist"
                }
              },
              "required": [
                "dist"
              ]
            },
            "icu_to_hospitalized": {
              "$id": "#/properties/medical_state_transition/properties/day_distributions/properties/icu_to_hospitalized",
              "type": "object",
              "title": "ICU to hospitalized",
              "description": "Distribution of days taken to transition from ICU to hospitalized",
              "default": {
                "dist": [
                  7.0
                ]
              },
              "properties": {
                "dist": {
                  "$ref": "#/properties/medical_state_transition/definitions/dist"
                }
              },
              "required": [
                "dist"
              ]
            }
          }
        },
        "transition_probabilities": {
          "$id": "#/properties/medical_state_transition/properties/transition_probabilities",
          "type": "object",
          "title": "Transition probabilities",
          "description": "Probabilities of transition from one medical state to another",
          "default": {
            "symptomatic_to_asymptomatic": 0.85,
            "icu_to_hospitalized": 0.65,
            "silent_to_asymptomatic": 0.2,
            "hospitalized_to_asymptomatic": 0.8
          },
          "required": [
            "silent_to_asymptomatic",
            "symptomatic_to_asymptomatic",
            "hospitalized_to_asymptomatic",
            "icu_to_hospitalized"
          ],
          "properties": {
            "silent_to_asymptomatic": {
              "$id": "#/properties/medical_state_transition/properties/transition_probabilities/properties/silent_to_asymptomatic",
              "type": "number",
              "title": "Silent to asymptomatic",
              "description": "The probability of transition from silent to asymptomatic conditions",
              "default": 0.2
            },
            "symptomatic_to_asymptomatic": {
              "$id": "#/properties/medical_state_transition/properties/transition_probabilities/properties/symptomatic_to_asymptomatic",
              "type": "number",
              "title": "Symptomatic to asymptomatic",
              "description": "The probability of transition from symptomatic to asymptomatic conditions",
              "default": 0.85
            },
            "hospitalized_to_asymptomatic": {
              "$id": "#/properties/medical_state_transition/properties/transition_probabilities/properties/hospitalized_to_asymptomatic",
              "type": "number",
              "title": "Hospitalized to asymptomatic",
              "description": "The probability of transition from hospitalized to asymptomatic conditions",
              "default": 0.8
            },
            "icu_to_hospitalized": {
              "$id": "#/properties/medical_state_transition/properties/transition_probabilities/properties/icu_to_hospitalized",
              "type": "number",
              "title": "ICU to hospitalized",
              "description": "The probability of transition from ICU to hospitalized conditions",
              "default": 0.65
            }
          }
        }
      }
    },
    "detection_test_consts": {
      "$id": "#/properties/detection_test_consts",
      "type": "object",
      "title": "Detection test consts",
      "description": "Various constants which describe the results of detection tests",
      "default": {
        "detection_test": {
          "detection_prob": 0.7,
          "false_alarm_prob": 0.05,
          "time_until_result": 3.0
        },
        "testing_gap_after_negative_test": 5.0,
        "testing_priorities": [
          "Symptomatic",
          "Recovered"
        ],
        "testing_gap_after_positive_test": 10.0,
        "test_willingness": {
          "hospitalized": 0.9,
          "icu": 1.0,
          "susceptible": 0.01,
          "latent": 0.01,
          "silent": 0.01,
          "recovered": 0.1,
          "asymptomatic": 0.01,
          "symptomatic": 0.6
        },
        "daily_num_of_tests_schedule": {
          "10": 1000.0,
          "0": 100.0,
          "50": 5000.0,
          "20": 2000.0
        }
      },
      "required": [
        "test_willingness",
        "detection_test",
        "daily_num_of_tests_schedule",
        "testing_gap_after_positive_test",
        "testing_gap_after_negative_test",
        "testing_priorities"
      ],
      "properties": {
        "test_willingness": {
          "$id": "#/properties/detection_test_consts/properties/test_willingness",
          "type": "object",
          "title": "Test willingness",
          "description": "An object containing probabilities that an agent will be willing to be tested",
          "default": {
            "recovered": 0.1,
            "asymptomatic": 0.01,
            "symptomatic": 0.6,
            "hospitalized": 0.9,
            "icu": 1.0,
            "susceptible": 0.01,
            "latent": 0.01,
            "silent": 0.01
          },
          "required": [
            "susceptible",
            "latent",
            "silent",
            "asymptomatic",
            "symptomatic",
            "hospitalized",
            "icu",
            "recovered"
          ],
          "properties": {
            "susceptible": {
              "$id": "#/properties/detection_test_consts/properties/test_willingness/properties/susceptible",
              "type": "number",
              "title": "Susceptible",
              "default": 0.01
            },
            "latent": {
              "$id": "#/properties/detection_test_consts/properties/test_willingness/properties/latent",
              "type": "number",
              "title": "Latent",
              "default": 0.01
            },
            "silent": {
              "$id": "#/properties/detection_test_consts/properties/test_willingness/properties/silent",
              "type": "number",
              "title": "Silent",
              "default": 0.01
            },
            "asymptomatic": {
              "$id": "#/properties/detection_test_consts/properties/test_willingness/properties/asymptomatic",
              "type": "number",
              "title": "Asymptomatic",
              "default": 0.01
            },
            "symptomatic": {
              "$id": "#/properties/detection_test_consts/properties/test_willingness/properties/symptomatic",
              "type": "number",
              "title": "Symptomatic",
              "default": 0.6
            },
            "hospitalized": {
              "$id": "#/properties/detection_test_consts/properties/test_willingness/properties/hospitalized",
              "type": "number",
              "title": "Hospitalized",
              "default": 0.9
            },
            "icu": {
              "$id": "#/properties/detection_test_consts/properties/test_willingness/properties/icu",
              "type": "number",
              "title": "ICU",
              "default": 1
            },
            "recovered": {
              "$id": "#/properties/detection_test_consts/properties/test_willingness/properties/recovered",
              "type": "number",
              "title": "Recovered",
              "default": 0.1
            }
          }
        },
        "detection_test": {
          "$id": "#/properties/detection_test_consts/properties/detection_test",
          "type": "object",
          "title": "Detection test",
          "description": "Object containing parameters that define the detection test",
          "default": {
            "time_until_result": 3.0,
            "detection_prob": 0.7,
            "false_alarm_prob": 0.05
          },
          "required": [
            "detection_prob",
            "false_alarm_prob",
            "time_until_result"
          ],
          "properties": {
            "detection_prob": {
              "$id": "#/properties/detection_test_consts/properties/detection_test/properties/detection_prob",
              "type": "number",
              "title": "Detection probability",
              "description": "Probability of the test detecting the virus/disease successfully",
              "default": 0.7
            },
            "false_alarm_prob": {
              "$id": "#/properties/detection_test_consts/properties/detection_test/properties/false_alarm_prob",
              "type": "number",
              "title": "False alarm probability",
              "description": "Probability of the test incorrectly returning a confirmed case",
              "default": 0.05
            },
            "time_until_result": {
              "$id": "#/properties/detection_test_consts/properties/detection_test/properties/time_until_result",
              "type": "integer",
              "title": "Time until result",
              "description": "Average time until the test returns a result",
              "default": 3
            }
          }
        },
        "daily_num_of_tests_schedule": {
          "$id": "#/properties/detection_test_consts/properties/daily_num_of_tests_schedule",
          "type": "object",
          "title": "Daily number of tests scheduled",
          "default": {
            "50": 5000.0,
            "20": 2000.0,
            "10": 1000.0,
            "0": 100.0
          },
          "propertyNames": {
            "pattern": "^[0-9]+$"
          },
          "additionalProperties": {
            "type": "number"
          }
        },
        "testing_gap_after_positive_test": {
          "$id": "#/properties/detection_test_consts/properties/testing_gap_after_positive_test",
          "type": "integer",
          "title": "Testing gap after positive test",
          "description": "The minimum gap between tests after a positive test result",
          "default": 10
        },
        "testing_gap_after_negative_test": {
          "$id": "#/properties/detection_test_consts/properties/testing_gap_after_negative_test",
          "type": "integer",
          "title": "Testing gap after negative test",
          "description": "The minimum gap between tests after a negative test result",
          "default": 5
        },
        "testing_priorities": {
          "$id": "#/properties/detection_test_consts/properties/testing_priorities",
          "type": "array",
          "title": "Testing priorities",
          "description": "The priority of testing",
          "default": [
            "Symptomatic",
            "Recovered"
          ],
          "items": {
            "$id": "#/properties/detection_test_consts/properties/testing_priorities/items",
            "type": "string",
            "examples": [
              "Symptomatic",
              "Recovered"
            ],
            "enum": ["Latent", "Silent", "Symptomatic", "Asymptomatic", "Hospitalized", "Recovered"]
          }
        }
      }
    },
    "policy_changes": {
      "$id": "#/properties/policy_changes",
      "type": "object",
      "title": "Policy changes",
      "description": "Keys describe the number of days at which to change, the first key in values is a list of which interactions to allow, the second is a description of the policy change",
      "default": {
        "80": [
          [
            "Work",
            "School",
            "Family",
            "Other"
          ],
          "open schools and work sites"
        ],
        "40": [
          [
            "Family",
            "Other"
          ],
          "closing schools and work sites"
        ]
      },
      "propertyNames": {
        "pattern": "^[0-9]+$"
      },
      "additionalProperties": {
        "type": "array",
        "items": [
          {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "Work",
                "School",
                "Family",
                "Other"
              ]
            },
            "additionalItems": false
          },
          {
            "type": "string"
          }
        ],
        "additionalItems": false
      }
    },
    "partial_opening_active": {
      "$id": "#/properties/partial_opening_active",
      "type": "boolean",
      "title": "Partial opening active",
      "description": "Allow partial opening",
      "default": true
    }
  }
}
